<div mat-dialog-title>
  <h1>Users Form</h1>
</div>
<form [formGroup]="myForm" (ngSubmit)="onFormSubmit()">
  <div mat-dialog-content>

    <div class="flex gap-2 pt-2.5">
      <mat-form-field appearance="outline" color="accent">
        <mat-label>Nombre</mat-label>
        <input matInput type="text" placeholder="Nombre..." formControlName="firstName">
        <mat-hint customLabel [isTouched]="myForm.get('firstName')?.touched" [errors]="myForm.get('firstName')?.errors"></mat-hint>
      </mat-form-field>
      <mat-form-field appearance="outline" color="accent">
        <mat-label>Apellido</mat-label>
        <input matInput type="text" placeholder="Apellido..." formControlName="lastName">
        <mat-hint customLabel [isTouched]="myForm.get('lastName')?.touched" [errors]="myForm.get('lastName')?.errors"></mat-hint>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field appearance="outline" color="accent">
        <mat-label>Email</mat-label>
        <input matInput type="text" placeholder="Ej. test@gmail.com" formControlName="email" >
        <mat-hint customLabel [isTouched]="myForm.get('email')?.touched" [errors]="myForm.get('email')?.errors"></mat-hint>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field appearance="outline" color="accent">
        <mat-label>Contraseña</mat-label>
        <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">
        <button type="button" mat-icon-button matSuffix (click)="changeVisibility()" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-hint customLabel [isTouched]="myForm.get('password')?.touched" [errors]="myForm.get('password')?.errors"></mat-hint>
      </mat-form-field>
      <mat-form-field appearance="outline" color="accent">
        <mat-label>Confirmar Contraseña</mat-label>
        <input matInput [type]="hide ? 'password' : 'text'" formControlName="password2">
        <mat-hint customLabel [isTouched]="myForm.get('password2')?.touched" [errors]="myForm.get('password2')?.errors"></mat-hint>
      </mat-form-field>
    </div>

    <mat-form-field appearance="outline" color="accent">
      <mat-label>Rol</mat-label>
      <mat-select name="rol" formControlName="rol">
        <mat-option *ngFor="let rol of roles" [value]="rol">
          {{rol}}
        </mat-option>
      </mat-select>
    </mat-form-field>

  </div>

  <div mat-dialog-actions class="action">
    <button mat-raised-button type="button" [mat-dialog-close]="false" >Cancelar</button>
    <button mat-raised-button color="accent" type="submit" >{{data ? 'Actualizar': 'Añadir'}}</button>
  </div>
</form>
